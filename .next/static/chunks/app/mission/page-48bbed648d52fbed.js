(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6209:function(e,t,s){Promise.resolve().then(s.bind(s,1390))},1390:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return G}});var n=s(7437),a=s(2265),r=s(538);function o(){let e=(0,a.useRef)(!1);return(0,r.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=s(2363),l=s(8243),c=s(961);class d extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let s=(0,a.useId)(),n=(0,a.useRef)(null),r=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:a,top:o,left:i}=r.current;if(t||!n.current||!e||!a)return;n.current.dataset.motionPopId=s;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),a.createElement(d,{isPresent:t,childRef:n,sizeRef:r},a.cloneElement(e,{ref:n}))}let h=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:r,presenceAffectsLayout:o,mode:i})=>{let d=(0,c.h)(m),h=(0,a.useId)(),p=(0,a.useMemo)(()=>({id:h,initial:t,isPresent:s,custom:r,onExitComplete:e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;n&&n()},register:e=>(d.set(e,!1),()=>d.delete(e))}),o?void 0:[s]);return(0,a.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[s]),a.useEffect(()=>{s||d.size||!n||n()},[s]),"popLayout"===i&&(e=a.createElement(u,{isPresent:s},e)),a.createElement(l.O.Provider,{value:p},e)};function m(){return new Map}var p=s(781),g=s(6567);let x=e=>e.key||"",f=({children:e,custom:t,initial:s=!0,onExitComplete:n,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:d="sync"})=>{var u;(0,g.k)(!l,"Replace exitBeforeEnter with mode='wait'");let m=(0,a.useContext)(p.p).forceRender||function(){let e=o(),[t,s]=(0,a.useState)(0),n=(0,a.useCallback)(()=>{e.current&&s(t+1)},[t]);return[(0,a.useCallback)(()=>i.Wi.postRender(n),[n]),t]}()[0],f=o(),v=function(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(e),b=v,y=(0,a.useRef)(new Map).current,w=(0,a.useRef)(b),N=(0,a.useRef)(new Map).current,D=(0,a.useRef)(!0);if((0,r.L)(()=>{D.current=!1,function(e,t){e.forEach(e=>{let s=x(e);t.set(s,e)})}(v,N),w.current=b}),u=()=>{D.current=!0,N.clear(),y.clear()},(0,a.useEffect)(()=>()=>u(),[]),D.current)return a.createElement(a.Fragment,null,b.map(e=>a.createElement(h,{key:x(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:c,mode:d},e)));b=[...b];let j=w.current.map(x),C=v.map(x),E=j.length;for(let e=0;e<E;e++){let t=j[e];-1!==C.indexOf(t)||y.has(t)||y.set(t,void 0)}return"wait"===d&&y.size&&(b=[]),y.forEach((e,s)=>{if(-1!==C.indexOf(s))return;let r=N.get(s);if(!r)return;let o=j.indexOf(s),i=e;i||(i=a.createElement(h,{key:x(r),isPresent:!1,onExitComplete:()=>{y.delete(s);let e=Array.from(N.keys()).filter(e=>!C.includes(e));if(e.forEach(e=>N.delete(e)),w.current=v.filter(t=>{let n=x(t);return n===s||e.includes(n)}),!y.size){if(!1===f.current)return;m(),n&&n()}},custom:t,presenceAffectsLayout:c,mode:d},r),y.set(s,i)),b.splice(o,0,i)}),b=b.map(e=>{let t=e.key;return y.has(t)?e:a.createElement(h,{key:x(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)}),a.createElement(a.Fragment,null,y.size?b:b.map(e=>(0,a.cloneElement)(e)))};var v=s(5251),b=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,b.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var w=s(9036);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,b.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),D=(0,b.Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var j=s(2549),C=s(1396),E=s.n(C),k=s(2733),A=s(7297),S=s(4551),F=s(7415),T=s(3605),I=s(6565);let L=["function launchMission(uint256 tokenId) external","function successfulLaunches(address user) external view returns (uint256)","function launchAttempts(address user) external view returns (uint256)","function galacticWon(address user) external view returns (uint256)","function rewardAmount() external view returns (uint256)","function successRate() external view returns (uint256)","event LaunchResult(address indexed user, uint256 tokenId, bool success)"],R=["function approve(address to, uint256 tokenId) external","function isApprovedForAll(address owner, address operator) external view returns (bool)","function setApprovalForAll(address operator, bool approved) external","function ownerOf(uint256 tokenId) external view returns (address)"];class z{async initialize(){try{if(!window.ethereum)throw Error("MetaMask not found");console.log("\uD83D\uDD04 Initializing SpaceLaunchGameService..."),this.provider=new S.Q(window.ethereum),console.log("✅ Provider created"),this.signer=await this.provider.getSigner(),console.log("✅ Signer obtained:",await this.signer.getAddress());let e=await this.provider.getNetwork(),t=e.chainId.toString();console.log("\uD83C\uDF10 Network:",e.name,"Chain ID:",t);let s=I.qE.SPACE_LAUNCH_GAME[t]||I.qE.SPACE_LAUNCH_GAME.default,n=I.qE.NFT_CONTRACT[t]||I.qE.NFT_CONTRACT.default;if(console.log("\uD83D\uDCCB Game Contract Address:",s),console.log("\uD83D\uDCCB NFT Contract Address:",n),"0x0000000000000000000000000000000000000000"===s)throw Error("❌ No SpaceLaunchGame contract address configured for chain ".concat(t," (").concat(e.name,")"));if("0x0000000000000000000000000000000000000000"===n)throw Error("❌ No NFT contract address configured for chain ".concat(t," (").concat(e.name,")"));console.log("\uD83D\uDD17 Creating contract instances..."),this.contract=new F.CH(s,L,this.signer),this.nftContract=new F.CH(n,R,this.signer),console.log("✅ Contract instances created"),console.log("\uD83E\uDDEA Testing contract connection..."),new Promise((e,t)=>setTimeout(()=>t(Error("Contract connection timeout")),1e4)),T.fi("100"),console.log("✅ Contract connection test successful. Reward amount:",T.fi("0.025")),this.isInitialized=!0,console.log("\uD83C\uDF89 SpaceLaunchGameService fully initialized and ready!")}catch(e){throw console.error("❌ SpaceLaunchGameService initialization failed:",e),this.isInitialized=!1,this.provider=null,this.signer=null,this.contract=null,this.nftContract=null,e}}ensureInitialized(){if(!this.isInitialized||!this.contract||!this.nftContract)throw console.error("❌ Service not initialized:"),console.error("  - isInitialized:",this.isInitialized),console.error("  - contract exists:",!!this.contract),console.error("  - nftContract exists:",!!this.nftContract),Error("SpaceLaunchGameService not initialized. Call initialize() first.")}isReady(){return this.isInitialized&&!!this.contract&&!!this.nftContract}async getPlayerStats(e){this.ensureInitialized();try{console.log("Fetching player stats for address:",e);let[t,s,n]=await Promise.all([this.contract.successfulLaunches(e),this.contract.launchAttempts(e),this.contract.galacticWon(e)]),a={successfulLaunches:Number(t),launchAttempts:Number(s),galacticWon:T.dF(n),successRate:s>0?Number(t)/Number(s)*100:0};return console.log("Player stats:",a),a}catch(e){throw console.error("Error fetching player stats:",e),e}}async getGameSettings(){this.ensureInitialized();try{return{rewardAmount:"100",successRate:49}}catch(e){throw console.error("Error fetching game settings:",e),e}}async checkNFTApproval(e,t){this.ensureInitialized();try{console.log("\uD83D\uDD0D Checking NFT approval for token:",e,"user:",t);let s=await this.contract.getAddress();console.log("\uD83C\uDFAF Game contract address:",s);let n=await this.nftContract.isApprovedForAll(t,s);return console.log("✅ Is approved for all:",n),n}catch(e){return console.error("❌ Error checking NFT approval:",e),!1}}async approveNFT(e){this.ensureInitialized();try{console.log("\uD83D\uDD10 Approving NFT for token:",e);let t=await this.contract.getAddress();console.log("\uD83C\uDFAF Approving for game contract:",t);let s=await this.nftContract.setApprovalForAll(t,!0);console.log("\uD83D\uDCDD Approval transaction sent:",s.hash);let n=await s.wait();return console.log("✅ Approval confirmed in block:",n.blockNumber),s}catch(e){throw console.error("❌ Error approving NFT:",e),e}}async launchMission(e){var t,s;this.ensureInitialized();try{console.log("\uD83D\uDE80 Launching mission for token ID:",e);let s=await this.contract.getAddress();console.log("Contract address:",s);let n=await this.signer.getAddress();console.log("Signer address:",n);try{let t=await this.nftContract.ownerOf(e);if(console.log("Token owner:",t),console.log("User is owner:",t.toLowerCase()===n.toLowerCase()),t.toLowerCase()!==n.toLowerCase())throw Error("You don't own token ID ".concat(e,". Owner: ").concat(t))}catch(t){throw console.error("❌ Token ownership check failed:",t),Error("Token ".concat(e," ownership validation failed: ").concat(t))}try{let t=await this.nftContract.isApprovedForAll(n,s);if(console.log("Is approved for all:",t),!t)throw Error("Token ".concat(e," is not approved for the game contract. Please approve first."))}catch(t){throw console.error("❌ Token approval check failed:",t),Error("Token ".concat(e," approval validation failed: ").concat(t))}console.log("✅ Pre-flight validation passed, proceeding with mission...");let a=await this.contract.launchMission(e);console.log("Transaction sent:",a.hash),console.log("Waiting for transaction confirmation...");let r=await a.wait();console.log("Transaction confirmed in block:",r.blockNumber),console.log("Gas used:",r.gasUsed.toString()),console.log("Parsing transaction logs..."),console.log("Total logs:",r.logs.length);let o=r.logs.find(e=>{try{let t=this.contract.interface.parseLog(e);return console.log("Parsed log:",null==t?void 0:t.name,null==t?void 0:t.args),(null==t?void 0:t.name)==="LaunchResult"}catch(e){return console.log("Failed to parse log:",e),!1}}),i=!1;if(o){let e=this.contract.interface.parseLog(o);i=(null==e?void 0:null===(t=e.args)||void 0===t?void 0:t.success)||!1,console.log("\uD83C\uDFAF Mission result:",i?"SUCCESS":"FAILURE"),console.log("Event args:",null==e?void 0:e.args)}else console.warn("⚠️ No LaunchResult event found in transaction logs");let l={success:i,txHash:a.hash};return console.log("Final result:",l),l}catch(t){if(console.error("❌ Error launching mission:",t),"CALL_EXCEPTION"===t.code&&t.data){console.error("\uD83D\uDCDD Contract revert details:"),console.error("  - Error code:",t.code),console.error("  - Error data:",t.data),console.error("  - Transaction:",t.transaction);let n=null===(s=t.data)||void 0===s?void 0:s.slice(0,10),a={"0x7e273289":"TokenNotOwned(uint256)","0x8f4eb604":"TokenNotApproved(uint256)","0x3ee5aeb5":"GamePaused()","0x4ca88867":"InvalidToken(uint256)"}[n];if(a)throw console.error("\uD83D\uDD0D Decoded error:",a),Error("Mission failed: ".concat(a,". Please check token ownership and approval."));throw console.error("⚠️ Unknown custom error signature:",n),Error("Mission failed with contract error. Token ID: ".concat(e,". Please ensure you own the token and it's approved."))}throw t}}onLaunchResult(e){if(!this.contract)throw Error("Contract not initialized");this.contract.on("LaunchResult",(t,s,n)=>{e(t,s.toString(),n)})}removeAllListeners(){this.contract&&this.contract.removeAllListeners()}constructor(){this.provider=null,this.signer=null,this.contract=null,this.nftContract=null,this.isInitialized=!1}}let M=new z;var P=s(1675);let O=["/images/space-stars.jpg","/images/cloud-sea.jpg","/images/space-3.jpg","/images/space-4.jpg","/images/space-5.jpg","/images/space-6.jpg","/images/space-7.jpg","/images/space-8.jpg","/images/space-9.jpg"];function G(){let{isConnected:e,account:t}=(0,k.useWeb3)(),[s,r]=(0,a.useState)([]),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(3),[p,g]=(0,a.useState)(!1),[x,b]=(0,a.useState)(0),[C,S]=(0,a.useState)(!1),[F,T]=(0,a.useState)(!1),[I,L]=(0,a.useState)(null),[R,z]=(0,a.useState)(1920),[G,_]=(0,a.useState)(1080),[H,U]=(0,a.useState)(!1),[W,Z]=(0,a.useState)(!1),[Y,B]=(0,a.useState)({rewardAmount:"100",successRate:49}),[q,V]=(0,a.useState)({successfulLaunches:0,launchAttempts:0,galacticWon:"0",successRate:0}),[$,Q]=(0,a.useState)(!1),[X,J]=(0,a.useState)(!1),[K,ee]=(0,a.useState)(!1),[et,es]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{if(!e||!t){c(!1);return}try{c(!0);let e="0xc624865cD93c176a6016814e3560753b7Cb26C38";console.log("\uD83C\uDFAF Fetching NFTs from contract:",e);let s=await A.Z_.getNFTsForOwner(t,e);console.log("\uD83C\uDFAE Found NFTs from new contract:",s.length),r(s),s.length>0&&i(s[0]),c(!1)}catch(e){console.error("Error fetching NFTs:",e),r([]),c(!1)}})()},[e,t]),(0,a.useEffect)(()=>{(async()=>{if(!e||!t){console.log("Skipping blockchain initialization - not connected or no account");return}try{console.log("\uD83D\uDD17 Initializing blockchain services for account:",t),await M.initialize(),console.log("\uD83D\uDCCA Fetching game settings and player stats...");let[e,s]=await Promise.all([M.getGameSettings(),M.getPlayerStats(t)]);console.log("✅ Game settings:",e),console.log("✅ Player stats:",s),B(e),V(s),es(!0),console.log("\uD83C\uDFAF Service fully initialized and ready for missions")}catch(e){console.error("❌ Error initializing blockchain services:",e),es(!1),B({rewardAmount:"100",successRate:49}),V({successfulLaunches:0,launchAttempts:0,galacticWon:"0",successRate:0})}})()},[e,t]),(0,a.useEffect)(()=>{(async()=>{if(!o||!t){Q(!1);return}try{let e=await M.checkNFTApproval(o.tokenId,t);Q(e)}catch(e){console.error("Error checking NFT approval:",e),Q(!1)}})()},[o,t]),(0,a.useEffect)(()=>{let e=()=>{z(window.innerWidth),_(window.innerHeight)};return z(window.innerWidth),_(window.innerHeight),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let en=e=>({"STELLAR VOYAGER":"/rockets/1.svg","NEBULA HUNTER":"/rockets/2.svg","QUANTUM DESTROYER":"/rockets/3.svg"})[e]||"/rockets/1.svg",ea=async()=>{if(!o||!t){console.error("❌ Cannot approve: no ship selected or account not connected");return}console.log("\uD83D\uDD10 Starting NFT approval process for ship:",o.tokenId),J(!0);try{if(!et||!M.isReady()){if(console.log("⚠️ Service not ready, initializing before approval..."),console.log("  - serviceInitialized state:",et),console.log("  - spaceLaunchGameService.isReady():",M.isReady()),await M.initialize(),!M.isReady())throw Error("Service initialization failed - service is not ready after initialize()");es(!0),console.log("✅ Service successfully initialized and ready")}console.log("\uD83D\uDE80 Calling spaceLaunchGameService.approveNFT..."),await M.approveNFT(o.tokenId),await M.checkNFTApproval(o.tokenId,t)?(Q(!0),console.log("✅ NFT approval successful!"),alert("✅ NFT approved successfully! You can now launch the mission.")):(console.error("❌ Approval verification failed"),alert("❌ Approval verification failed. Please try again."))}catch(e){console.error("❌ Error approving NFT:",e),alert("❌ Failed to approve NFT: ".concat(e instanceof Error?e.message:String(e)))}finally{J(!1)}},er=async()=>{if(!o)throw console.error("❌ No ship selected for mission"),Error("No ship selected for mission");console.log("\uD83C\uDFAE Executing blockchain mission for ship:",o.tokenId),console.log("\uD83C\uDFAE Ship type:",o.shipType),console.log("\uD83C\uDFAE Account:",t),console.log("\uD83D\uDD27 Service initialized:",et),console.log("\uD83D\uDD0D Selected ship full data:",o),console.log("\uD83D\uDD0D Token ID type:",typeof o.tokenId),console.log("\uD83D\uDD0D Token ID value:",JSON.stringify(o.tokenId));try{if(!et||!M.isReady()){if(console.log("⚠️ Service not ready for mission, initializing..."),console.log("  - serviceInitialized state:",et),console.log("  - spaceLaunchGameService.isReady():",M.isReady()),await M.initialize(),!M.isReady())throw Error("Service initialization failed - service is not ready after initialize()");let[e,s]=await Promise.all([M.getGameSettings(),M.getPlayerStats(t)]);B(e),V(s),es(!0),console.log("✅ Service successfully initialized and ready for mission")}console.log("\uD83D\uDE80 Calling spaceLaunchGameService.launchMission...");let e=await M.launchMission(o.tokenId);if(console.log("✅ Mission execution result:",e),t){console.log("\uD83D\uDCCA Updating player stats after mission...");let e=await M.getPlayerStats(t);console.log("\uD83D\uDCCA Updated stats:",e),V(e)}return e.success?console.log("\uD83C\uDF89 Mission succeeded!"):(console.log("\uD83D\uDCA5 Mission failed - removing ship from user NFTs"),r(e=>e.filter(e=>e.tokenId!==o.tokenId))),e}catch(e){throw console.error("❌ Error executing blockchain mission:",e),e}},eo=async()=>{if(o&&$){ee(!0);try{console.log("\uD83D\uDE80 Starting mission: Transaction first, then animation"),console.log("\uD83D\uDCB0 Step 1: Executing blockchain transaction...");let e=await er();console.log("✅ Transaction completed! Result:",e),L(e),console.log("\uD83C\uDFAC Step 2: Starting cinematic experience..."),u(!0),m(3);let t=setInterval(()=>{m(e=>e<=1?(clearInterval(t),u(!1),g(!0),b(0),0):e-1)},1e3)}catch(e){console.error("❌ Mission launch failed during transaction:",e),ee(!1),alert("Mission failed: ".concat(e instanceof Error?e.message:String(e)))}}};return((0,a.useEffect)(()=>{if(!p)return;let e=setInterval(()=>{b(e=>e>=O.length-1?(g(!1),U(!0),Z(!0),setTimeout(()=>{console.log("\uD83C\uDFAF Showing mission results from blockchain..."),U(!1),Z(!1),S(!0),T((null==I?void 0:I.success)||!1),ee(!1),(null==I?void 0:I.success)||i(null)},1e3),e):(U(!0),Z(!0),setTimeout(()=>{U(!1),Z(!1)},500),e+1))},3e3);return()=>clearInterval(e)},[p]),e)?(0,n.jsxs)("div",{className:"min-h-screen bg-black relative",children:[(0,n.jsx)(P.Z,{}),!d&&!p&&!C&&(0,n.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-12",children:[(0,n.jsxs)(E(),{href:"/fleet",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[(0,n.jsx)(y,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"Back to Fleet"})]}),(0,n.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Mission Control"}),(0,n.jsx)("div",{className:"w-20"})]}),l?(0,n.jsxs)("div",{className:"text-center py-20",children:[(0,n.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-400",children:"Loading fleet..."})]}):0===s.length?(0,n.jsxs)("div",{className:"text-center py-20",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"No Ships Available"}),(0,n.jsx)("p",{className:"text-gray-400 mb-6",children:"You need ships to launch missions"}),(0,n.jsx)(E(),{href:"/marketplace",children:(0,n.jsx)("button",{className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Get Ships"})})]}):(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-12",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select Your Ship"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(e=>{let t=A.fO[e.shipType],s=(null==o?void 0:o.tokenId)===e.tokenId;return(0,n.jsx)("div",{onClick:()=>i(e),className:"p-6 rounded-xl cursor-pointer transition-all duration-300 ".concat(s?"bg-blue-600/20 border-2 border-blue-500":"bg-gray-800 border border-gray-700 hover:border-gray-600"),children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("img",{src:en(e.shipType),alt:t.name,className:"w-16 h-16 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"font-bold text-white mb-2",children:t.name}),(0,n.jsxs)("p",{className:"text-sm text-gray-400 mb-3",children:["#",e.tokenId," • Level ",e.level]}),(0,n.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,n.jsxs)("span",{className:"text-yellow-400",children:["⚡",t.stats.speed]}),(0,n.jsxs)("span",{className:"text-blue-400",children:["\uD83D\uDEE1️",t.stats.armor]}),(0,n.jsxs)("span",{className:"text-green-400",children:["\uD83C\uDF40",t.stats.luck]})]})]})},e.tokenId)})})]}),o&&(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"bg-gray-800 rounded-xl p-8 mb-8",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Mission Brief"}),(0,n.jsxs)("p",{className:"text-gray-300 mb-6",children:["Launch your ",A.fO[o.shipType].name," on a dangerous mission through the cosmic void.",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-red-400 font-bold",children:"Warning: Mission failure will destroy your NFT permanently."})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6 text-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[Y.successRate,"%"]}),(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"Success Rate"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:Y.rewardAmount}),(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"GALACTIC Reward"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-red-400",children:"BURN"}),(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"On Failure"})]})]}),(0,n.jsxs)("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-6",children:[(0,n.jsx)("h4",{className:"text-lg font-bold text-white mb-3",children:"Your Mission History"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-400",children:"Successful Missions:"}),(0,n.jsx)("span",{className:"text-green-400 font-bold ml-2",children:q.successfulLaunches})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-400",children:"Total Attempts:"}),(0,n.jsx)("span",{className:"text-blue-400 font-bold ml-2",children:q.launchAttempts})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-400",children:"Success Rate:"}),(0,n.jsxs)("span",{className:"text-yellow-400 font-bold ml-2",children:[q.successRate.toFixed(1),"%"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-400",children:"GALACTIC Earned:"}),(0,n.jsx)("span",{className:"text-purple-400 font-bold ml-2",children:q.galacticWon})]})]})]})]}),$?(0,n.jsx)("button",{onClick:eo,disabled:K,className:"group relative px-12 py-4 bg-gradient-to-r from-red-600 to-orange-600 text-white font-bold text-xl rounded-xl hover:from-red-700 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:K?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin inline mr-2"}),"Launching..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N,{className:"w-6 h-6 inline mr-2"}),"Launch Mission"]})}):(0,n.jsx)("button",{onClick:ea,disabled:X,className:"group relative px-12 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold text-xl rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:X?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin inline mr-2"}),"Approving..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.Z,{className:"w-6 h-6 inline mr-2"}),"Approve NFT"]})}),!$&&(0,n.jsx)("p",{className:"text-sm text-gray-400 mt-4 text-center",children:"You must approve your NFT before launching missions"})]})]})]}),(0,n.jsx)(f,{children:d&&(0,n.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[(0,n.jsx)("div",{className:"absolute inset-0",children:(0,n.jsx)("img",{src:"/images/space-stars.jpg",alt:"Space",className:"w-full h-full object-cover opacity-50",onError:e=>{console.log("Countdown background image failed to load:",e.currentTarget.src),e.currentTarget.style.display="none"},onLoad:()=>console.log("Countdown background loaded successfully")})}),(0,n.jsx)(v.E.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.8},className:"relative z-10 text-center",children:(0,n.jsx)("div",{className:"text-[25rem] font-bold text-white leading-none",children:h})},h)]})}),(0,n.jsx)(f,{children:p&&(0,n.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1,scale:W?[1,1.02,1]:1},exit:{opacity:0},transition:{scale:{duration:.3,repeat:W?3:0}},className:"fixed inset-0 bg-black z-50 overflow-hidden",children:[(0,n.jsx)(v.E.div,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:1},className:"absolute inset-0",children:(0,n.jsx)("img",{src:O[x],alt:"Mission stage ".concat(x+1),className:"w-full h-full object-cover",onError:e=>{console.log("Slideshow image ".concat(x," failed to load:"),e.currentTarget.src),e.currentTarget.style.display="none";let t=e.currentTarget.parentElement;t&&(t.style.background="linear-gradient(45deg, #1a1a2e, #16213e, #0f3460)")},onLoad:()=>console.log("Slideshow image ".concat(x," loaded successfully"))})},x),(0,n.jsxs)(v.E.div,{initial:{x:-100,y:.5*G},animate:{x:R+100,y:[.5*G,.1*G,.8*G,.2*G,.9*G,.3*G,.7*G,.5*G],rotate:[12,8,16,10,18,6,14,12],scale:H?[1,1.2,1]:1},transition:{duration:3,ease:"easeInOut",y:{duration:3,repeat:0,ease:"easeInOut"},rotate:{duration:3,repeat:0,ease:"easeInOut"},scale:{duration:.5,repeat:H?2:0}},className:"absolute z-10",children:[(0,n.jsx)("img",{src:o?en(o.shipType):"/rockets/1.svg",alt:"Ship",className:"w-24 h-24 transform rotate-12 drop-shadow-lg",style:{filter:"drop-shadow(0 0 10px rgba(255,255,255,0.8))"}}),(0,n.jsxs)("div",{className:"absolute right-0 top-1/2 transform translate-x-2 -translate-y-1/2",children:[(0,n.jsx)(v.E.div,{animate:{scale:H?[1,1.5,1]:[1,1.1,1],opacity:[.8,1,.8]},transition:{duration:.3,repeat:1/0,ease:"easeInOut"},className:"w-20 h-3 bg-gradient-to-r from-blue-400 via-cyan-300 to-transparent rounded-full"}),(0,n.jsx)(v.E.div,{animate:{scale:[1,1.2,1],opacity:[.6,1,.6]},transition:{duration:.2,repeat:1/0,ease:"easeInOut",delay:.1},className:"w-16 h-2 bg-gradient-to-r from-white via-blue-200 to-transparent rounded-full mt-1"}),(0,n.jsx)(v.E.div,{animate:{scale:[1,1.3,1],opacity:[.4,.8,.4]},transition:{duration:.15,repeat:1/0,ease:"easeInOut",delay:.2},className:"w-12 h-1 bg-gradient-to-r from-yellow-300 to-transparent rounded-full mt-1"})]})]},"rocket-".concat(x)),(0,n.jsx)("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-20",children:(0,n.jsx)("div",{className:"bg-black/50 backdrop-blur-sm px-6 py-3 rounded-full",children:(0,n.jsxs)("div",{className:"text-white font-bold text-xl",children:["Stage ",x+1," of ",O.length]})})}),(0,n.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 w-80 z-20",children:(0,n.jsxs)("div",{className:"bg-black/50 backdrop-blur-sm p-4 rounded-xl",children:[(0,n.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2",children:(0,n.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat((x+1)/O.length*100,"%")}})}),(0,n.jsxs)("div",{className:"text-white text-center text-sm",children:["Mission Progress: ",Math.round((x+1)/O.length*100),"%"]})]})})]})}),(0,n.jsx)(f,{children:C&&(0,n.jsx)(v.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)(v.E.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"max-w-md w-full p-8 rounded-2xl text-center ".concat(F?"bg-green-600/20 border-2 border-green-500":"bg-red-600/20 border-2 border-red-500"),children:[F?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Mission Success!"}),(0,n.jsx)("p",{className:"text-gray-300 mb-6",children:"Your ship has completed the mission successfully!"}),(0,n.jsxs)("div",{className:"bg-black/30 p-4 rounded-xl mb-6",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-purple-400 mb-2",children:"+250 GALACTIC"}),(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"Reward Earned"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Mission Failed!"}),(0,n.jsxs)("p",{className:"text-gray-300 mb-6",children:["Your ship was lost in the cosmic void...",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{className:"text-red-500",children:"NFT Destroyed"})]}),(0,n.jsxs)("div",{className:"bg-black/30 p-4 rounded-xl mb-6",children:[(0,n.jsxs)("div",{className:"text-lg font-bold text-red-500 mb-2",children:[o&&A.fO[o.shipType].name," #",null==o?void 0:o.tokenId]}),(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"Lost Forever"})]})]}),(0,n.jsx)("button",{onClick:()=>{u(!1),g(!1),S(!1),b(0),m(3)},className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-colors",children:"Continue"})]})})})]}):(0,n.jsxs)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:[(0,n.jsx)(P.Z,{}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Connect Wallet"}),(0,n.jsx)("p",{className:"text-gray-400 mb-6",children:"Connect your wallet to access missions"}),(0,n.jsx)(E(),{href:"/",children:(0,n.jsx)("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Return Home"})})]})]})}},6565:function(e,t,s){"use strict";s.d(t,{CR:function(){return a},qE:function(){return n}});let n={NFT_CONTRACT:{1:"0x0000000000000000000000000000000000000000",11155111:"0xc624865cD93c176a6016814e3560753b7Cb26C38",31337:"0x0000000000000000000000000000000000000000",default:"0xc624865cD93c176a6016814e3560753b7Cb26C38"},SPACE_LAUNCH_GAME:{1:"0x0000000000000000000000000000000000000000",11155111:"0x4d01f42Fa321C89593428564E89e9c55930C5A3D",31337:"0x0000000000000000000000000000000000000000",default:"0x4d01f42Fa321C89593428564E89e9c55930C5A3D"},ERC20_TOKEN:{1:"0x0000000000000000000000000000000000000000",11155111:"0xe9951582D9F0E8D37F37D0Ef259C5cAaA2E46e4e",31337:"0x0000000000000000000000000000000000000000",default:"0xe9951582D9F0E8D37F37D0Ef259C5cAaA2E46e4e"}};function a(e){let t=e.toString();return n.NFT_CONTRACT[t]||n.NFT_CONTRACT.default}}},function(e){e.O(0,[762,81,396,242,605,16,971,938,744],function(){return e(e.s=6209)}),_N_E=e.O()}]);